import pandas as pd
import numpy as np
from sklearn.preprocessing import MinMaxScaler
from keras.models import Sequential
from keras.layers import LSTM, Dense, Dropout
from keras.optimizers import Adam
from keras.callbacks import EarlyStopping
from sklearn.metrics import mean_squared_error
import math
import ta

# 读取数据
data = [
  {
    "中单净流入": 2205381,
    "中单流入净占比": 0.55,
    "主力净流入": 8343179,
    "主力净流入占比": 2.07,
    "大单净流入": 16465281,
    "大单流入净占比": 4.08,
    "小单净流入": -10548562,
    "小单流入净占比": -2.61,
    "收盘价": 66.92,
    "日期": "2023-11-15",
    "涨跌幅": 0.33,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -8122102,
    "超大单流入净占比": -2.01
  },
  {
    "中单净流入": 5548123,
    "中单流入净占比": 1.39,
    "主力净流入": -18668597,
    "主力净流入占比": -4.68,
    "大单净流入": -22779357,
    "大单流入净占比": -5.71,
    "小单净流入": 13120474,
    "小单流入净占比": 3.29,
    "收盘价": 63.29,
    "日期": "2023-11-16",
    "涨跌幅": -5.42,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 4110760,
    "超大单流入净占比": 1.03
  },
  {
    "中单净流入": 5630893,
    "中单流入净占比": 3.1,
    "主力净流入": 3796090,
    "主力净流入占比": 2.09,
    "大单净流入": -505273,
    "大单流入净占比": -0.28,
    "小单净流入": -9426983,
    "小单流入净占比": -5.2,
    "收盘价": 63.75,
    "日期": "2023-11-17",
    "涨跌幅": 0.73,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 4301363,
    "超大单流入净占比": 2.37
  },
  {
    "中单净流入": 13378609,
    "中单流入净占比": 7.04,
    "主力净流入": 7232497,
    "主力净流入占比": 3.8,
    "大单净流入": 9010957,
    "大单流入净占比": 4.74,
    "小单净流入": -20611106,
    "小单流入净占比": -10.84,
    "收盘价": 64.07,
    "日期": "2023-11-20",
    "涨跌幅": 0.5,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1778460,
    "超大单流入净占比": -0.94
  },
  {
    "中单净流入": -10494640,
    "中单流入净占比": -4.16,
    "主力净流入": -5303176,
    "主力净流入占比": -2.1,
    "大单净流入": -9004922,
    "大单流入净占比": -3.57,
    "小单净流入": 15797815,
    "小单流入净占比": 6.26,
    "收盘价": 62.55,
    "日期": "2023-11-21",
    "涨跌幅": -2.37,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 3701746,
    "超大单流入净占比": 1.47
  },
  {
    "中单净流入": 26439697,
    "中单流入净占比": 7.07,
    "主力净流入": -29597428,
    "主力净流入占比": -7.92,
    "大单净流入": -5093824,
    "大单流入净占比": -1.36,
    "小单净流入": 3157730,
    "小单流入净占比": 0.84,
    "收盘价": 59.92,
    "日期": "2023-11-22",
    "涨跌幅": -4.2,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -24503604,
    "超大单流入净占比": -6.56
  },
  {
    "中单净流入": 16047006,
    "中单流入净占比": 8.17,
    "主力净流入": -25348994,
    "主力净流入占比": -12.9,
    "大单净流入": -15228778,
    "大单流入净占比": -7.75,
    "小单净流入": 9301988,
    "小单流入净占比": 4.73,
    "收盘价": 60.11,
    "日期": "2023-11-23",
    "涨跌幅": 0.32,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -10120216,
    "超大单流入净占比": -5.15
  },
  {
    "中单净流入": 11621280,
    "中单流入净占比": 6.4,
    "主力净流入": -22884131,
    "主力净流入占比": -12.59,
    "大单净流入": -17655426,
    "大单流入净占比": -9.72,
    "小单净流入": 11262851,
    "小单流入净占比": 6.2,
    "收盘价": 58.57,
    "日期": "2023-11-24",
    "涨跌幅": -2.56,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -5228705,
    "超大单流入净占比": -2.88
  },
  {
    "中单净流入": -1357748,
    "中单流入净占比": -1.07,
    "主力净流入": 2106040,
    "主力净流入占比": 1.66,
    "大单净流入": 2581672,
    "大单流入净占比": 2.04,
    "小单净流入": -748291,
    "小单流入净占比": -0.59,
    "收盘价": 59.05,
    "日期": "2023-11-27",
    "涨跌幅": 0.82,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -475632,
    "超大单流入净占比": -0.38
  },
  {
    "中单净流入": -5952933,
    "中单流入净占比": -6.05,
    "主力净流入": 4515604,
    "主力净流入占比": 4.59,
    "大单净流入": 6479532,
    "大单流入净占比": 6.58,
    "小单净流入": 1437329,
    "小单流入净占比": 1.46,
    "收盘价": 59.27,
    "日期": "2023-11-28",
    "涨跌幅": 0.37,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1963928,
    "超大单流入净占比": -2
  },
  {
    "中单净流入": 4269345,
    "中单流入净占比": 4.12,
    "主力净流入": -8751722,
    "主力净流入占比": -8.45,
    "大单净流入": -5508889,
    "大单流入净占比": -5.32,
    "小单净流入": 4482378,
    "小单流入净占比": 4.33,
    "收盘价": 58.65,
    "日期": "2023-11-29",
    "涨跌幅": -1.05,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -3242833,
    "超大单流入净占比": -3.13
  },
  {
    "中单净流入": 7852748,
    "中单流入净占比": 7.8,
    "主力净流入": -12357274,
    "主力净流入占比": -12.27,
    "大单净流入": -10277294,
    "大单流入净占比": -10.21,
    "小单净流入": 4504527,
    "小单流入净占比": 4.47,
    "收盘价": 58.14,
    "日期": "2023-11-30",
    "涨跌幅": -0.87,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2079980,
    "超大单流入净占比": -2.07
  },
  {
    "中单净流入": 2473316,
    "中单流入净占比": 2.68,
    "主力净流入": -9196055,
    "主力净流入占比": -9.96,
    "大单净流入": -8043233,
    "大单流入净占比": -8.71,
    "小单净流入": 6722738,
    "小单流入净占比": 7.28,
    "收盘价": 57.87,
    "日期": "2023-12-01",
    "涨跌幅": -0.46,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1152822,
    "超大单流入净占比": -1.25
  },
  {
    "中单净流入": 2705585,
    "中单流入净占比": 2.28,
    "主力净流入": 11744805,
    "主力净流入占比": 9.9,
    "大单净流入": 12493526,
    "大单流入净占比": 10.53,
    "小单净流入": -14450390,
    "小单流入净占比": -12.18,
    "收盘价": 57.84,
    "日期": "2023-12-04",
    "涨跌幅": -0.05,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -748721,
    "超大单流入净占比": -0.63
  },
  {
    "中单净流入": 7347279,
    "中单流入净占比": 7.05,
    "主力净流入": -2738813,
    "主力净流入占比": -2.63,
    "大单净流入": -2878258,
    "大单流入净占比": -2.76,
    "小单净流入": -4608466,
    "小单流入净占比": -4.42,
    "收盘价": 56.42,
    "日期": "2023-12-05",
    "涨跌幅": -2.46,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 139445,
    "超大单流入净占比": 0.13
  },
  {
    "中单净流入": 3178465,
    "中单流入净占比": 2.9,
    "主力净流入": -6295824,
    "主力净流入占比": -5.74,
    "大单净流入": -7041286,
    "大单流入净占比": -6.42,
    "小单净流入": 3117360,
    "小单流入净占比": 2.84,
    "收盘价": 56.53,
    "日期": "2023-12-06",
    "涨跌幅": 0.19,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 745462,
    "超大单流入净占比": 0.68
  },
  {
    "中单净流入": 18448759,
    "中单流入净占比": 11.8,
    "主力净流入": -17104542,
    "主力净流入占比": -10.94,
    "大单净流入": -9653639,
    "大单流入净占比": -6.18,
    "小单净流入": -1344216,
    "小单流入净占比": -0.86,
    "收盘价": 55.65,
    "日期": "2023-12-07",
    "涨跌幅": -1.56,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -7450903,
    "超大单流入净占比": -4.77
  },
  {
    "中单净流入": 1892101,
    "中单流入净占比": 1.69,
    "主力净流入": 401721,
    "主力净流入占比": 0.36,
    "大单净流入": 1517920,
    "大单流入净占比": 1.35,
    "小单净流入": -2293821,
    "小单流入净占比": -2.05,
    "收盘价": 55.9,
    "日期": "2023-12-08",
    "涨跌幅": 0.45,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1116199,
    "超大单流入净占比": -1
  },
  {
    "中单净流入": -10887909,
    "中单流入净占比": -7.52,
    "主力净流入": 5285574,
    "主力净流入占比": 3.65,
    "大单净流入": 5487316,
    "大单流入净占比": 3.79,
    "小单净流入": 5602334,
    "小单流入净占比": 3.87,
    "收盘价": 56.99,
    "日期": "2023-12-11",
    "涨跌幅": 1.95,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -201742,
    "超大单流入净占比": -0.14
  },
  {
    "中单净流入": 1607234,
    "中单流入净占比": 1.82,
    "主力净流入": 2305301,
    "主力净流入占比": 2.6,
    "大单净流入": 733686,
    "大单流入净占比": 0.83,
    "小单净流入": -3912535,
    "小单流入净占比": -4.42,
    "收盘价": 56.99,
    "日期": "2023-12-12",
    "涨跌幅": 0,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1571615,
    "超大单流入净占比": 1.78
  },
  {
    "中单净流入": 7134579,
    "中单流入净占比": 8.72,
    "主力净流入": -7087491,
    "主力净流入占比": -8.67,
    "大单净流入": -6437054,
    "大单流入净占比": -7.87,
    "小单净流入": -47088,
    "小单流入净占比": -0.06,
    "收盘价": 55.79,
    "日期": "2023-12-13",
    "涨跌幅": -2.11,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -650437,
    "超大单流入净占比": -0.8
  },
  {
    "中单净流入": 3727227,
    "中单流入净占比": 4.49,
    "主力净流入": -7432083,
    "主力净流入占比": -8.96,
    "大单净流入": -5833868,
    "大单流入净占比": -7.03,
    "小单净流入": 3704856,
    "小单流入净占比": 4.47,
    "收盘价": 55.28,
    "日期": "2023-12-14",
    "涨跌幅": -0.91,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1598215,
    "超大单流入净占比": -1.93
  },
  {
    "中单净流入": 2731064,
    "中单流入净占比": 2.76,
    "主力净流入": -83133,
    "主力净流入占比": -0.08,
    "大单净流入": 93763,
    "大单流入净占比": 0.09,
    "小单净流入": -2647931,
    "小单流入净占比": -2.67,
    "收盘价": 55.13,
    "日期": "2023-12-15",
    "涨跌幅": -0.27,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -176896,
    "超大单流入净占比": -0.18
  },
  {
    "中单净流入": -4794991,
    "中单流入净占比": -5.74,
    "主力净流入": -7797097,
    "主力净流入占比": -9.33,
    "大单净流入": -6870451,
    "大单流入净占比": -8.23,
    "小单净流入": 12592089,
    "小单流入净占比": 15.08,
    "收盘价": 54.35,
    "日期": "2023-12-18",
    "涨跌幅": -1.41,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -926646,
    "超大单流入净占比": -1.11
  },
  {
    "中单净流入": -1670323,
    "中单流入净占比": -1.42,
    "主力净流入": -12789368,
    "主力净流入占比": -10.84,
    "大单净流入": -7411905,
    "大单流入净占比": -6.28,
    "小单净流入": 14459691,
    "小单流入净占比": 12.25,
    "收盘价": 54.49,
    "日期": "2023-12-19",
    "涨跌幅": 0.26,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -5377463,
    "超大单流入净占比": -4.56
  },
  {
    "中单净流入": 7445141,
    "中单流入净占比": 6.06,
    "主力净流入": -14024623,
    "主力净流入占比": -11.42,
    "大单净流入": -11740334,
    "大单流入净占比": -9.56,
    "小单净流入": 6579483,
    "小单流入净占比": 5.36,
    "收盘价": 53.72,
    "日期": "2023-12-20",
    "涨跌幅": -1.41,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2284289,
    "超大单流入净占比": -1.86
  },
  {
    "中单净流入": -628673,
    "中单流入净占比": -0.2,
    "主力净流入": 8671564,
    "主力净流入占比": 2.82,
    "大单净流入": -8095816,
    "大单流入净占比": -2.63,
    "小单净流入": -8042893,
    "小单流入净占比": -2.61,
    "收盘价": 56,
    "日期": "2023-12-21",
    "涨跌幅": 4.24,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 16767380,
    "超大单流入净占比": 5.45
  },
  {
    "中单净流入": -3357140,
    "中单流入净占比": -1.11,
    "主力净流入": 7703712,
    "主力净流入占比": 2.56,
    "大单净流入": 12947119,
    "大单流入净占比": 4.3,
    "小单净流入": -4346572,
    "小单流入净占比": -1.44,
    "收盘价": 56.91,
    "日期": "2023-12-22",
    "涨跌幅": 1.63,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -5243407,
    "超大单流入净占比": -1.74
  },
  {
    "中单净流入": 3205781,
    "中单流入净占比": 1.73,
    "主力净流入": -715998,
    "主力净流入占比": -0.39,
    "大单净流入": -1991616,
    "大单流入净占比": -1.07,
    "小单净流入": -2489783,
    "小单流入净占比": -1.34,
    "收盘价": 56.6,
    "日期": "2023-12-25",
    "涨跌幅": -0.54,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1275618,
    "超大单流入净占比": 0.69
  },
  {
    "中单净流入": 18624659,
    "中单流入净占比": 7.02,
    "主力净流入": 5437150,
    "主力净流入占比": 2.05,
    "大单净流入": 11839521,
    "大单流入净占比": 4.46,
    "小单净流入": -24061810,
    "小单流入净占比": -9.07,
    "收盘价": 57.78,
    "日期": "2023-12-26",
    "涨跌幅": 2.08,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -6402371,
    "超大单流入净占比": -2.41
  },
  {
    "中单净流入": 7104367,
    "中单流入净占比": 3.95,
    "主力净流入": -1482170,
    "主力净流入占比": -0.82,
    "大单净流入": -6839391,
    "大单流入净占比": -3.8,
    "小单净流入": -5622198,
    "小单流入净占比": -3.13,
    "收盘价": 56.45,
    "日期": "2023-12-27",
    "涨跌幅": -2.3,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 5357221,
    "超大单流入净占比": 2.98
  },
  {
    "中单净流入": -31058819,
    "中单流入净占比": -5.66,
    "主力净流入": 42743316,
    "主力净流入占比": 7.79,
    "大单净流入": 23161764,
    "大单流入净占比": 4.22,
    "小单净流入": -11684498,
    "小单流入净占比": -2.13,
    "收盘价": 61.68,
    "日期": "2023-12-28",
    "涨跌幅": 9.26,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 19581552,
    "超大单流入净占比": 3.57
  },
  {
    "中单净流入": -9149020,
    "中单流入净占比": -2.45,
    "主力净流入": 3552438,
    "主力净流入占比": 0.95,
    "大单净流入": 3828714,
    "大单流入净占比": 1.03,
    "小单净流入": 5596582,
    "小单流入净占比": 1.5,
    "收盘价": 60.26,
    "日期": "2023-12-29",
    "涨跌幅": -2.3,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -276276,
    "超大单流入净占比": -0.07
  },
  {
    "中单净流入": 8676284,
    "中单流入净占比": 4.05,
    "主力净流入": -30160572,
    "主力净流入占比": -14.08,
    "大单净流入": -23931024,
    "大单流入净占比": -11.17,
    "小单净流入": 21484288,
    "小单流入净占比": 10.03,
    "收盘价": 58.94,
    "日期": "2024-01-02",
    "涨跌幅": -2.19,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -6229548,
    "超大单流入净占比": -2.91
  },
  {
    "中单净流入": 3960735,
    "中单流入净占比": 2.35,
    "主力净流入": -5408177,
    "主力净流入占比": -3.21,
    "大单净流入": -1842971,
    "大单流入净占比": -1.09,
    "小单净流入": 1447442,
    "小单流入净占比": 0.86,
    "收盘价": 58.7,
    "日期": "2024-01-03",
    "涨跌幅": -0.41,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -3565206,
    "超大单流入净占比": -2.11
  },
  {
    "中单净流入": 3170247,
    "中单流入净占比": 2.21,
    "主力净流入": -628706,
    "主力净流入占比": -0.44,
    "大单净流入": -657551,
    "大单流入净占比": -0.46,
    "小单净流入": -2541542,
    "小单流入净占比": -1.77,
    "收盘价": 58.58,
    "日期": "2024-01-04",
    "涨跌幅": -0.2,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 28845,
    "超大单流入净占比": 0.02
  },
  {
    "中单净流入": -8638216,
    "中单流入净占比": -5.05,
    "主力净流入": 14626180,
    "主力净流入占比": 8.54,
    "大单净流入": 9544501,
    "大单流入净占比": 5.58,
    "小单净流入": -5987963,
    "小单流入净占比": -3.5,
    "收盘价": 57.89,
    "日期": "2024-01-05",
    "涨跌幅": -1.18,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 5081679,
    "超大单流入净占比": 2.97
  },
  {
    "中单净流入": 5982832,
    "中单流入净占比": 2.7,
    "主力净流入": 18955266,
    "主力净流入占比": 8.57,
    "大单净流入": 11492126,
    "大单流入净占比": 5.19,
    "小单净流入": -24938097,
    "小单流入净占比": -11.27,
    "收盘价": 59.04,
    "日期": "2024-01-08",
    "涨跌幅": 1.99,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 7463140,
    "超大单流入净占比": 3.37
  },
  {
    "中单净流入": 6051327,
    "中单流入净占比": 2.69,
    "主力净流入": 6404438,
    "主力净流入占比": 2.85,
    "大单净流入": 10300450,
    "大单流入净占比": 4.58,
    "小单净流入": -12455765,
    "小单流入净占比": -5.54,
    "收盘价": 58.23,
    "日期": "2024-01-09",
    "涨跌幅": -1.37,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -3896012,
    "超大单流入净占比": -1.73
  },
  {
    "中单净流入": 10976941,
    "中单流入净占比": 5.35,
    "主力净流入": -11594444,
    "主力净流入占比": -5.65,
    "大单净流入": -1999,
    "大单流入净占比": 0,
    "小单净流入": 617504,
    "小单流入净占比": 0.3,
    "收盘价": 57.29,
    "日期": "2024-01-10",
    "涨跌幅": -1.61,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -11592445,
    "超大单流入净占比": -5.65
  },
  {
    "中单净流入": -526439,
    "中单流入净占比": -0.25,
    "主力净流入": -11013243,
    "主力净流入占比": -5.3,
    "大单净流入": -8947289,
    "大单流入净占比": -4.3,
    "小单净流入": 11539681,
    "小单流入净占比": 5.55,
    "收盘价": 57.52,
    "日期": "2024-01-11",
    "涨跌幅": 0.4,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2065954,
    "超大单流入净占比": -0.99
  },
  {
    "中单净流入": 5508976,
    "中单流入净占比": 1.67,
    "主力净流入": 4034084,
    "主力净流入占比": 1.22,
    "大单净流入": 5953221,
    "大单流入净占比": 1.81,
    "小单净流入": -9543061,
    "小单流入净占比": -2.9,
    "收盘价": 58.78,
    "日期": "2024-01-12",
    "涨跌幅": 2.19,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1919137,
    "超大单流入净占比": -0.58
  },
  {
    "中单净流入": 6151827,
    "中单流入净占比": 2.89,
    "主力净流入": -27433659,
    "主力净流入占比": -12.88,
    "大单净流入": -19683196,
    "大单流入净占比": -9.24,
    "小单净流入": 21281833,
    "小单流入净占比": 9.99,
    "收盘价": 56,
    "日期": "2024-01-15",
    "涨跌幅": -4.73,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -7750463,
    "超大单流入净占比": -3.64
  },
  {
    "中单净流入": 2318183,
    "中单流入净占比": 1.32,
    "主力净流入": -15749188,
    "主力净流入占比": -8.98,
    "大单净流入": -13763157,
    "大单流入净占比": -7.85,
    "小单净流入": 13431005,
    "小单流入净占比": 7.66,
    "收盘价": 55.82,
    "日期": "2024-01-16",
    "涨跌幅": -0.32,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1986031,
    "超大单流入净占比": -1.13
  },
  {
    "中单净流入": -3058689,
    "中单流入净占比": -2.27,
    "主力净流入": -25217135,
    "主力净流入占比": -18.71,
    "大单净流入": -17825276,
    "大单流入净占比": -13.23,
    "小单净流入": 28275823,
    "小单流入净占比": 20.98,
    "收盘价": 53.38,
    "日期": "2024-01-17",
    "涨跌幅": -4.37,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -7391859,
    "超大单流入净占比": -5.48
  },
  {
    "中单净流入": 9882971,
    "中单流入净占比": 5.08,
    "主力净流入": -8557094,
    "主力净流入占比": -4.39,
    "大单净流入": -5672280,
    "大单流入净占比": -2.91,
    "小单净流入": -1325877,
    "小单流入净占比": -0.68,
    "收盘价": 54.5,
    "日期": "2024-01-18",
    "涨跌幅": 2.1,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2884814,
    "超大单流入净占比": -1.48
  },
  {
    "中单净流入": 1377357,
    "中单流入净占比": 1.21,
    "主力净流入": 1284286,
    "主力净流入占比": 1.12,
    "大单净流入": -99650,
    "大单流入净占比": -0.09,
    "小单净流入": -2661643,
    "小单流入净占比": -2.33,
    "收盘价": 53.55,
    "日期": "2024-01-19",
    "涨跌幅": -1.74,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1383936,
    "超大单流入净占比": 1.21
  },
  {
    "中单净流入": -3462061,
    "中单流入净占比": -2.19,
    "主力净流入": -17648951,
    "主力净流入占比": -11.15,
    "大单净流入": -9339832,
    "大单流入净占比": -5.9,
    "小单净流入": 21111013,
    "小单流入净占比": 13.33,
    "收盘价": 50.5,
    "日期": "2024-01-22",
    "涨跌幅": -5.7,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -8309119,
    "超大单流入净占比": -5.25
  },
  {
    "中单净流入": -4731115,
    "中单流入净占比": -3.06,
    "主力净流入": 5470929,
    "主力净流入占比": 3.54,
    "大单净流入": 714791,
    "大单流入净占比": 0.46,
    "小单净流入": -739813,
    "小单流入净占比": -0.48,
    "收盘价": 51.69,
    "日期": "2024-01-23",
    "涨跌幅": 2.36,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 4756138,
    "超大单流入净占比": 3.08
  },
  {
    "中单净流入": 713825,
    "中单流入净占比": 0.67,
    "主力净流入": -4188933,
    "主力净流入占比": -3.94,
    "大单净流入": -2944704,
    "大单流入净占比": -2.77,
    "小单净流入": 3475108,
    "小单流入净占比": 3.27,
    "收盘价": 51.36,
    "日期": "2024-01-24",
    "涨跌幅": -0.64,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1244229,
    "超大单流入净占比": -1.17
  },
  {
    "中单净流入": 166025,
    "中单流入净占比": 0.15,
    "主力净流入": 3840532,
    "主力净流入占比": 3.43,
    "大单净流入": 2686092,
    "大单流入净占比": 2.4,
    "小单净流入": -4006558,
    "小单流入净占比": -3.58,
    "收盘价": 52,
    "日期": "2024-01-25",
    "涨跌幅": 1.25,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1154440,
    "超大单流入净占比": 1.03
  },
  {
    "中单净流入": 3359620,
    "中单流入净占比": 2.63,
    "主力净流入": -3367948,
    "主力净流入占比": -2.64,
    "大单净流入": -1051083,
    "大单流入净占比": -0.82,
    "小单净流入": 8329,
    "小单流入净占比": 0.01,
    "收盘价": 50.34,
    "日期": "2024-01-26",
    "涨跌幅": -3.19,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2316865,
    "超大单流入净占比": -1.81
  },
  {
    "中单净流入": 8752593,
    "中单流入净占比": 3.67,
    "主力净流入": -27798843,
    "主力净流入占比": -11.67,
    "大单净流入": -28105832,
    "大单流入净占比": -11.8,
    "小单净流入": 19046250,
    "小单流入净占比": 7.99,
    "收盘价": 46.19,
    "日期": "2024-01-29",
    "涨跌幅": -8.24,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 306989,
    "超大单流入净占比": 0.13
  },
  {
    "中单净流入": -3258441,
    "中单流入净占比": -2.15,
    "主力净流入": -17262774,
    "主力净流入占比": -11.38,
    "大单净流入": -14905105,
    "大单流入净占比": -9.83,
    "小单净流入": 20521214,
    "小单流入净占比": 13.53,
    "收盘价": 44.35,
    "日期": "2024-01-30",
    "涨跌幅": -3.98,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2357669,
    "超大单流入净占比": -1.55
  },
  {
    "中单净流入": -772489,
    "中单流入净占比": -0.51,
    "主力净流入": -12577169,
    "主力净流入占比": -8.25,
    "大单净流入": -12577169,
    "大单流入净占比": -8.25,
    "小单净流入": 13349657,
    "小单流入净占比": 8.75,
    "收盘价": 41.97,
    "日期": "2024-01-31",
    "涨跌幅": -5.37,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 8513061,
    "中单流入净占比": 5.52,
    "主力净流入": -10177316,
    "主力净流入占比": -6.59,
    "大单净流入": -8567676,
    "大单流入净占比": -5.55,
    "小单净流入": 1664254,
    "小单流入净占比": 1.08,
    "收盘价": 42.69,
    "日期": "2024-02-01",
    "涨跌幅": 1.72,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1609640,
    "超大单流入净占比": -1.04
  },
  {
    "中单净流入": -973263,
    "中单流入净占比": -0.6,
    "主力净流入": -13061614,
    "主力净流入占比": -8,
    "大单净流入": -10749908,
    "大单流入净占比": -6.59,
    "小单净流入": 14034878,
    "小单流入净占比": 8.6,
    "收盘价": 40.21,
    "日期": "2024-02-02",
    "涨跌幅": -5.81,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2311706,
    "超大单流入净占比": -1.42
  },
  {
    "中单净流入": -9648848,
    "中单流入净占比": -4.75,
    "主力净流入": -16248163,
    "主力净流入占比": -7.99,
    "大单净流入": -13520499,
    "大单流入净占比": -6.65,
    "小单净流入": 25897011,
    "小单流入净占比": 12.74,
    "收盘价": 38.21,
    "日期": "2024-02-05",
    "涨跌幅": -4.97,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2727664,
    "超大单流入净占比": -1.34
  },
  {
    "中单净流入": -3660976,
    "中单流入净占比": -2.08,
    "主力净流入": 2448619,
    "主力净流入占比": 1.39,
    "大单净流入": 4052170,
    "大单流入净占比": 2.3,
    "小单净流入": 1212357,
    "小单流入净占比": 0.69,
    "收盘价": 41.35,
    "日期": "2024-02-06",
    "涨跌幅": 8.22,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1603551,
    "超大单流入净占比": -0.91
  },
  {
    "中单净流入": -12165175,
    "中单流入净占比": -4.61,
    "主力净流入": -38473093,
    "主力净流入占比": -14.57,
    "大单净流入": -32771548,
    "大单流入净占比": -12.41,
    "小单净流入": 50638269,
    "小单流入净占比": 19.18,
    "收盘价": 44,
    "日期": "2024-02-07",
    "涨跌幅": 6.41,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -5701545,
    "超大单流入净占比": -2.16
  },
  {
    "中单净流入": 2446784,
    "中单流入净占比": 0.93,
    "主力净流入": -44515959,
    "主力净流入占比": -16.86,
    "大单净流入": -7037530,
    "大单流入净占比": -2.67,
    "小单净流入": 42069174,
    "小单流入净占比": 15.94,
    "收盘价": 44.17,
    "日期": "2024-02-08",
    "涨跌幅": 0.39,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -37478429,
    "超大单流入净占比": -14.2
  },
  {
    "中单净流入": 4755351,
    "中单流入净占比": 2.91,
    "主力净流入": -1657654,
    "主力净流入占比": -1.01,
    "大单净流入": -211610,
    "大单流入净占比": -0.13,
    "小单净流入": -3097698,
    "小单流入净占比": -1.89,
    "收盘价": 44.06,
    "日期": "2024-02-19",
    "涨跌幅": -0.25,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1446044,
    "超大单流入净占比": -0.88
  },
  {
    "中单净流入": 3723088,
    "中单流入净占比": 3.04,
    "主力净流入": -1265450,
    "主力净流入占比": -1.03,
    "大单净流入": -1502102,
    "大单流入净占比": -1.23,
    "小单净流入": -2457638,
    "小单流入净占比": -2,
    "收盘价": 44.24,
    "日期": "2024-02-20",
    "涨跌幅": 0.41,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 236652,
    "超大单流入净占比": 0.19
  },
  {
    "中单净流入": 8878690,
    "中单流入净占比": 3.94,
    "主力净流入": -15164335,
    "主力净流入占比": -6.74,
    "大单净流入": 12353182,
    "大单流入净占比": 5.49,
    "小单净流入": 6285646,
    "小单流入净占比": 2.79,
    "收盘价": 44.02,
    "日期": "2024-02-21",
    "涨跌幅": -0.5,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -27517517,
    "超大单流入净占比": -12.22
  },
  {
    "中单净流入": -5754464,
    "中单流入净占比": -3.63,
    "主力净流入": -5445990,
    "主力净流入占比": -3.44,
    "大单净流入": -4693697,
    "大单流入净占比": -2.96,
    "小单净流入": 11200453,
    "小单流入净占比": 7.07,
    "收盘价": 44.4,
    "日期": "2024-02-22",
    "涨跌幅": 0.86,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -752293,
    "超大单流入净占比": -0.47
  },
  {
    "中单净流入": 3781919,
    "中单流入净占比": 2.03,
    "主力净流入": 5998557,
    "主力净流入占比": 3.22,
    "大单净流入": 3488257,
    "大单流入净占比": 1.88,
    "小单净流入": -9780476,
    "小单流入净占比": -5.26,
    "收盘价": 45.35,
    "日期": "2024-02-23",
    "涨跌幅": 2.14,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 2510300,
    "超大单流入净占比": 1.35
  },
  {
    "中单净流入": 8991811,
    "中单流入净占比": 4.12,
    "主力净流入": 2767585,
    "主力净流入占比": 1.27,
    "大单净流入": -2573119,
    "大单流入净占比": -1.18,
    "小单净流入": -11759396,
    "小单流入净占比": -5.39,
    "收盘价": 46.2,
    "日期": "2024-02-26",
    "涨跌幅": 1.87,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 5340704,
    "超大单流入净占比": 2.45
  },
  {
    "中单净流入": -8135821,
    "中单流入净占比": -4.24,
    "主力净流入": -3901324,
    "主力净流入占比": -2.04,
    "大单净流入": -9301301,
    "大单流入净占比": -4.85,
    "小单净流入": 12037144,
    "小单流入净占比": 6.28,
    "收盘价": 47.66,
    "日期": "2024-02-27",
    "涨跌幅": 3.16,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 5399977,
    "超大单流入净占比": 2.82
  },
  {
    "中单净流入": -12756490,
    "中单流入净占比": -4.18,
    "主力净流入": -12068592,
    "主力净流入占比": -3.96,
    "大单净流入": -5683570,
    "大单流入净占比": -1.86,
    "小单净流入": 24825082,
    "小单流入净占比": 8.14,
    "收盘价": 45.41,
    "日期": "2024-02-28",
    "涨跌幅": -4.72,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -6385022,
    "超大单流入净占比": -2.09
  },
  {
    "中单净流入": -8888261,
    "中单流入净占比": -4.56,
    "主力净流入": -14331061,
    "主力净流入占比": -7.36,
    "大单净流入": -10175927,
    "大单流入净占比": -5.22,
    "小单净流入": 23219323,
    "小单流入净占比": 11.92,
    "收盘价": 47.39,
    "日期": "2024-02-29",
    "涨跌幅": 4.36,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -4155134,
    "超大单流入净占比": -2.13
  },
  {
    "中单净流入": 11509144,
    "中单流入净占比": 6.88,
    "主力净流入": -11820594,
    "主力净流入占比": -7.07,
    "大单净流入": -10308084,
    "大单流入净占比": -6.17,
    "小单净流入": 311450,
    "小单流入净占比": 0.19,
    "收盘价": 47.51,
    "日期": "2024-03-01",
    "涨跌幅": 0.25,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1512510,
    "超大单流入净占比": -0.9
  },
  {
    "中单净流入": 4384587,
    "中单流入净占比": 3.33,
    "主力净流入": -5275826,
    "主力净流入占比": -4.01,
    "大单净流入": -109357,
    "大单流入净占比": -0.08,
    "小单净流入": 891239,
    "小单流入净占比": 0.68,
    "收盘价": 47.32,
    "日期": "2024-03-04",
    "涨跌幅": -0.4,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -5166469,
    "超大单流入净占比": -3.92
  },
  {
    "中单净流入": -12341207,
    "中单流入净占比": -8.58,
    "主力净流入": -15807570,
    "主力净流入占比": -10.99,
    "大单净流入": -10421306,
    "大单流入净占比": -7.24,
    "小单净流入": 28148779,
    "小单流入净占比": 19.57,
    "收盘价": 46.87,
    "日期": "2024-03-05",
    "涨跌幅": -0.95,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -5386264,
    "超大单流入净占比": -3.74
  },
  {
    "中单净流入": 17167140,
    "中单流入净占比": 7.68,
    "主力净流入": -12958105,
    "主力净流入占比": -5.8,
    "大单净流入": 3287191,
    "大单流入净占比": 1.47,
    "小单净流入": -4209036,
    "小单流入净占比": -1.88,
    "收盘价": 47.41,
    "日期": "2024-03-06",
    "涨跌幅": 1.15,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -16245296,
    "超大单流入净占比": -7.27
  },
  {
    "中单净流入": -3127059,
    "中单流入净占比": -1.93,
    "主力净流入": -7486268,
    "主力净流入占比": -4.61,
    "大单净流入": -6908550,
    "大单流入净占比": -4.26,
    "小单净流入": 10613327,
    "小单流入净占比": 6.54,
    "收盘价": 45.71,
    "日期": "2024-03-07",
    "涨跌幅": -3.59,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -577718,
    "超大单流入净占比": -0.36
  },
  {
    "中单净流入": 11061197,
    "中单流入净占比": 6.97,
    "主力净流入": -16506193,
    "主力净流入占比": -10.39,
    "大单净流入": -14746898,
    "大单流入净占比": -9.29,
    "小单净流入": 5444997,
    "小单流入净占比": 3.43,
    "收盘价": 46.96,
    "日期": "2024-03-08",
    "涨跌幅": 2.73,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1759295,
    "超大单流入净占比": -1.11
  },
  {
    "中单净流入": 444438,
    "中单流入净占比": 0.22,
    "主力净流入": 582575,
    "主力净流入占比": 0.29,
    "大单净流入": -5558229,
    "大单流入净占比": -2.76,
    "小单净流入": -1027014,
    "小单流入净占比": -0.51,
    "收盘价": 48.6,
    "日期": "2024-03-11",
    "涨跌幅": 3.49,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 6140804,
    "超大单流入净占比": 3.05
  },
  {
    "中单净流入": -2076092,
    "中单流入净占比": -1.37,
    "主力净流入": 3353755,
    "主力净流入占比": 2.21,
    "大单净流入": 6081303,
    "大单流入净占比": 4,
    "小单净流入": -1277664,
    "小单流入净占比": -0.84,
    "收盘价": 48.25,
    "日期": "2024-03-12",
    "涨跌幅": -0.72,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2727548,
    "超大单流入净占比": -1.79
  },
  {
    "中单净流入": -1764576,
    "中单流入净占比": -1.61,
    "主力净流入": 407878,
    "主力净流入占比": 0.37,
    "大单净流入": 407878,
    "大单流入净占比": 0.37,
    "小单净流入": 1356698,
    "小单流入净占比": 1.24,
    "收盘价": 48.01,
    "日期": "2024-03-13",
    "涨跌幅": -0.5,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 2683094,
    "中单流入净占比": 2.41,
    "主力净流入": -1499233,
    "主力净流入占比": -1.35,
    "大单净流入": 3313928,
    "大单流入净占比": 2.98,
    "小单净流入": -1183860,
    "小单流入净占比": -1.06,
    "收盘价": 47.2,
    "日期": "2024-03-14",
    "涨跌幅": -1.69,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -4813161,
    "超大单流入净占比": -4.33
  },
  {
    "中单净流入": -4048069,
    "中单流入净占比": -3.57,
    "主力净流入": 13367923,
    "主力净流入占比": 11.8,
    "大单净流入": -5014184,
    "大单流入净占比": -4.43,
    "小单净流入": -9319854,
    "小单流入净占比": -8.23,
    "收盘价": 47.31,
    "日期": "2024-03-15",
    "涨跌幅": 0.23,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 18382107,
    "超大单流入净占比": 16.23
  },
  {
    "中单净流入": -3001721,
    "中单流入净占比": -1.8,
    "主力净流入": -3138943,
    "主力净流入占比": -1.89,
    "大单净流入": -3837845,
    "大单流入净占比": -2.31,
    "小单净流入": 6140665,
    "小单流入净占比": 3.69,
    "收盘价": 48.71,
    "日期": "2024-03-18",
    "涨跌幅": 2.96,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 698902,
    "超大单流入净占比": 0.42
  },
  {
    "中单净流入": -6550556,
    "中单流入净占比": -5.25,
    "主力净流入": -3714329,
    "主力净流入占比": -2.98,
    "大单净流入": -2871191,
    "大单流入净占比": -2.3,
    "小单净流入": 10264884,
    "小单流入净占比": 8.23,
    "收盘价": 47.64,
    "日期": "2024-03-19",
    "涨跌幅": -2.2,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -843138,
    "超大单流入净占比": -0.68
  },
  {
    "中单净流入": -4826476,
    "中单流入净占比": -4.3,
    "主力净流入": 2561624,
    "主力净流入占比": 2.28,
    "大单净流入": 2600536,
    "大单流入净占比": 2.31,
    "小单净流入": 2264852,
    "小单流入净占比": 2.02,
    "收盘价": 47.99,
    "日期": "2024-03-20",
    "涨跌幅": 0.73,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -38912,
    "超大单流入净占比": -0.03
  },
  {
    "中单净流入": 4754452,
    "中单流入净占比": 4.54,
    "主力净流入": 1031534,
    "主力净流入占比": 0.98,
    "大单净流入": -385066,
    "大单流入净占比": -0.37,
    "小单净流入": -5785987,
    "小单流入净占比": -5.52,
    "收盘价": 47.05,
    "日期": "2024-03-21",
    "涨跌幅": -1.96,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1416600,
    "超大单流入净占比": 1.35
  },
  {
    "中单净流入": -8934642,
    "中单流入净占比": -8.02,
    "主力净流入": 11144438,
    "主力净流入占比": 10,
    "大单净流入": -151730,
    "大单流入净占比": -0.14,
    "小单净流入": -2209797,
    "小单流入净占比": -1.98,
    "收盘价": 46,
    "日期": "2024-03-22",
    "涨跌幅": -2.23,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 11296168,
    "超大单流入净占比": 10.14
  },
  {
    "中单净流入": 13691121,
    "中单流入净占比": 9.51,
    "主力净流入": 2207435,
    "主力净流入占比": 1.53,
    "大单净流入": 4350525,
    "大单流入净占比": 3.02,
    "小单净流入": -15898554,
    "小单流入净占比": -11.04,
    "收盘价": 45.18,
    "日期": "2024-03-25",
    "涨跌幅": -1.78,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2143090,
    "超大单流入净占比": -1.49
  },
  {
    "中单净流入": -730139,
    "中单流入净占比": -0.54,
    "主力净流入": 10082523,
    "主力净流入占比": 7.43,
    "大单净流入": 7312886,
    "大单流入净占比": 5.39,
    "小单净流入": -9352385,
    "小单流入净占比": -6.89,
    "收盘价": 45.51,
    "日期": "2024-03-26",
    "涨跌幅": 0.73,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 2769637,
    "超大单流入净占比": 2.04
  },
  {
    "中单净流入": 10253723,
    "中单流入净占比": 7.51,
    "主力净流入": 7808948,
    "主力净流入占比": 5.72,
    "大单净流入": 3333764,
    "大单流入净占比": 2.44,
    "小单净流入": -18062672,
    "小单流入净占比": -13.22,
    "收盘价": 44.17,
    "日期": "2024-03-27",
    "涨跌幅": -2.94,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 4475184,
    "超大单流入净占比": 3.28
  },
  {
    "中单净流入": 577221,
    "中单流入净占比": 0.55,
    "主力净流入": 998759,
    "主力净流入占比": 0.95,
    "大单净流入": -181849,
    "大单流入净占比": -0.17,
    "小单净流入": -1575981,
    "小单流入净占比": -1.5,
    "收盘价": 44.32,
    "日期": "2024-03-28",
    "涨跌幅": 0.34,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1180608,
    "超大单流入净占比": 1.12
  },
  {
    "中单净流入": 1348966,
    "中单流入净占比": 1.58,
    "主力净流入": -484599,
    "主力净流入占比": -0.57,
    "大单净流入": 706943,
    "大单流入净占比": 0.83,
    "小单净流入": -864368,
    "小单流入净占比": -1.01,
    "收盘价": 44.28,
    "日期": "2024-03-29",
    "涨跌幅": -0.09,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1191542,
    "超大单流入净占比": -1.4
  },
  {
    "中单净流入": -4037558,
    "中单流入净占比": -3.24,
    "主力净流入": -6810655,
    "主力净流入占比": -5.47,
    "大单净流入": -8740039,
    "大单流入净占比": -7.02,
    "小单净流入": 10848213,
    "小单流入净占比": 8.71,
    "收盘价": 46.01,
    "日期": "2024-04-01",
    "涨跌幅": 3.91,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1929384,
    "超大单流入净占比": 1.55
  },
  {
    "中单净流入": 8613327,
    "中单流入净占比": 8.22,
    "主力净流入": -3051608,
    "主力净流入占比": -2.91,
    "大单净流入": -3051608,
    "大单流入净占比": -2.91,
    "小单净流入": -5561719,
    "小单流入净占比": -5.31,
    "收盘价": 45.1,
    "日期": "2024-04-02",
    "涨跌幅": -1.98,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 958095,
    "中单流入净占比": 1.55,
    "主力净流入": -2911029,
    "主力净流入占比": -4.72,
    "大单净流入": -4220613,
    "大单流入净占比": -6.84,
    "小单净流入": 1952934,
    "小单流入净占比": 3.16,
    "收盘价": 44.36,
    "日期": "2024-04-03",
    "涨跌幅": -1.64,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1309584,
    "超大单流入净占比": 2.12
  },
  {
    "中单净流入": 10126991,
    "中单流入净占比": 10.11,
    "主力净流入": -7734132,
    "主力净流入占比": -7.72,
    "大单净流入": 5166415,
    "大单流入净占比": 5.16,
    "小单净流入": -2392859,
    "小单流入净占比": -2.39,
    "收盘价": 42.71,
    "日期": "2024-04-08",
    "涨跌幅": -3.72,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -12900547,
    "超大单流入净占比": -12.88
  },
  {
    "中单净流入": -3401478,
    "中单流入净占比": -4.85,
    "主力净流入": -1353724,
    "主力净流入占比": -1.93,
    "大单净流入": -1353724,
    "大单流入净占比": -1.93,
    "小单净流入": 4755201,
    "小单流入净占比": 6.77,
    "收盘价": 43.7,
    "日期": "2024-04-09",
    "涨跌幅": 2.32,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 790575,
    "中单流入净占比": 1.2,
    "主力净流入": -2287753,
    "主力净流入占比": -3.48,
    "大单净流入": -2287753,
    "大单流入净占比": -3.48,
    "小单净流入": 1497178,
    "小单流入净占比": 2.28,
    "收盘价": 43,
    "日期": "2024-04-10",
    "涨跌幅": -1.6,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 2490012,
    "中单流入净占比": 3.65,
    "主力净流入": 3532601,
    "主力净流入占比": 5.18,
    "大单净流入": 3756201,
    "大单流入净占比": 5.51,
    "小单净流入": -6022612,
    "小单流入净占比": -8.83,
    "收盘价": 42.65,
    "日期": "2024-04-11",
    "涨跌幅": -0.81,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -223600,
    "超大单流入净占比": -0.33
  },
  {
    "中单净流入": -9482185,
    "中单流入净占比": -11.8,
    "主力净流入": 4794754,
    "主力净流入占比": 5.97,
    "大单净流入": 990838,
    "大单流入净占比": 1.23,
    "小单净流入": 4687431,
    "小单流入净占比": 5.83,
    "收盘价": 41.74,
    "日期": "2024-04-12",
    "涨跌幅": -2.13,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 3803916,
    "超大单流入净占比": 4.73
  },
  {
    "中单净流入": -9419747,
    "中单流入净占比": -9.27,
    "主力净流入": -4175726,
    "主力净流入占比": -4.11,
    "大单净流入": -2770466,
    "大单流入净占比": -2.73,
    "小单净流入": 13595473,
    "小单流入净占比": 13.38,
    "收盘价": 41.51,
    "日期": "2024-04-15",
    "涨跌幅": -0.55,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1405260,
    "超大单流入净占比": -1.38
  },
  {
    "中单净流入": -2889787,
    "中单流入净占比": -2.77,
    "主力净流入": -3068870,
    "主力净流入占比": -2.94,
    "大单净流入": -5484908,
    "大单流入净占比": -5.26,
    "小单净流入": 5958657,
    "小单流入净占比": 5.71,
    "收盘价": 40.08,
    "日期": "2024-04-16",
    "涨跌幅": -3.44,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 2416038,
    "超大单流入净占比": 2.32
  },
  {
    "中单净流入": -2606099,
    "中单流入净占比": -3.14,
    "主力净流入": 3464151,
    "主力净流入占比": 4.18,
    "大单净流入": 1700493,
    "大单流入净占比": 2.05,
    "小单净流入": -858052,
    "小单流入净占比": -1.04,
    "收盘价": 40.99,
    "日期": "2024-04-17",
    "涨跌幅": 2.27,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1763658,
    "超大单流入净占比": 2.13
  },
  {
    "中单净流入": -4407214,
    "中单流入净占比": -5.02,
    "主力净流入": -418401,
    "主力净流入占比": -0.48,
    "大单净流入": -418401,
    "大单流入净占比": -0.48,
    "小单净流入": 4825616,
    "小单流入净占比": 5.5,
    "收盘价": 40.9,
    "日期": "2024-04-18",
    "涨跌幅": -0.22,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": -599406,
    "中单流入净占比": -0.87,
    "主力净流入": 3725324,
    "主力净流入占比": 5.39,
    "大单净流入": 659493,
    "大单流入净占比": 0.95,
    "小单净流入": -3125917,
    "小单流入净占比": -4.52,
    "收盘价": 39.99,
    "日期": "2024-04-19",
    "涨跌幅": -2.22,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 3065831,
    "超大单流入净占比": 4.44
  },
  {
    "中单净流入": -1217290,
    "中单流入净占比": -1.6,
    "主力净流入": -4761474,
    "主力净流入占比": -6.26,
    "大单净流入": -4761474,
    "大单流入净占比": -6.26,
    "小单净流入": 5978765,
    "小单流入净占比": 7.86,
    "收盘价": 40.59,
    "日期": "2024-04-22",
    "涨跌幅": 1.5,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": -709605,
    "中单流入净占比": -1.25,
    "主力净流入": -2891402,
    "主力净流入占比": -5.08,
    "大单净流入": -1806258,
    "大单流入净占比": -3.17,
    "小单净流入": 3601006,
    "小单流入净占比": 6.33,
    "收盘价": 40.42,
    "日期": "2024-04-23",
    "涨跌幅": -0.42,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1085144,
    "超大单流入净占比": -1.91
  },
  {
    "中单净流入": -2048377,
    "中单流入净占比": -3.28,
    "主力净流入": -154023,
    "主力净流入占比": -0.25,
    "大单净流入": -1585899,
    "大单流入净占比": -2.54,
    "小单净流入": 2202401,
    "小单流入净占比": 3.53,
    "收盘价": 40.42,
    "日期": "2024-04-24",
    "涨跌幅": 0,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1431876,
    "超大单流入净占比": 2.29
  },
  {
    "中单净流入": -2725996,
    "中单流入净占比": -3.82,
    "主力净流入": 6006261,
    "主力净流入占比": 8.41,
    "大单净流入": 6006261,
    "大单流入净占比": 8.41,
    "小单净流入": -3280265,
    "小单流入净占比": -4.59,
    "收盘价": 40.81,
    "日期": "2024-04-25",
    "涨跌幅": 0.96,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 4996569,
    "中单流入净占比": 2.47,
    "主力净流入": 1338808,
    "主力净流入占比": 0.66,
    "大单净流入": 275289,
    "大单流入净占比": 0.14,
    "小单净流入": -6335377,
    "小单流入净占比": -3.13,
    "收盘价": 43.53,
    "日期": "2024-04-26",
    "涨跌幅": 6.67,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1063519,
    "超大单流入净占比": 0.52
  },
  {
    "中单净流入": -7347057,
    "中单流入净占比": -3.43,
    "主力净流入": 25604336,
    "主力净流入占比": 11.95,
    "大单净流入": 23599942,
    "大单流入净占比": 11.01,
    "小单净流入": -18257279,
    "小单流入净占比": -8.52,
    "收盘价": 45.27,
    "日期": "2024-04-29",
    "涨跌幅": 4,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 2004394,
    "超大单流入净占比": 0.94
  },
  {
    "中单净流入": -4803329,
    "中单流入净占比": -3.75,
    "主力净流入": -9092700,
    "主力净流入占比": -7.11,
    "大单净流入": -7592855,
    "大单流入净占比": -5.93,
    "小单净流入": 13896030,
    "小单流入净占比": 10.86,
    "收盘价": 45.38,
    "日期": "2024-04-30",
    "涨跌幅": 0.24,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -1499845,
    "超大单流入净占比": -1.17
  },
  {
    "中单净流入": 1029061,
    "中单流入净占比": 0.79,
    "主力净流入": -9527462,
    "主力净流入占比": -7.33,
    "大单净流入": -5834894,
    "大单流入净占比": -4.49,
    "小单净流入": 8498400,
    "小单流入净占比": 6.54,
    "收盘价": 45.41,
    "日期": "2024-05-06",
    "涨跌幅": 0.07,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -3692568,
    "超大单流入净占比": -2.84
  },
  {
    "中单净流入": -2081477,
    "中单流入净占比": -1.72,
    "主力净流入": -2639486,
    "主力净流入占比": -2.18,
    "大单净流入": -5407266,
    "大单流入净占比": -4.47,
    "小单净流入": 4720962,
    "小单流入净占比": 3.9,
    "收盘价": 46,
    "日期": "2024-05-07",
    "涨跌幅": 1.3,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 2767780,
    "超大单流入净占比": 2.29
  },
  {
    "中单净流入": -10401976,
    "中单流入净占比": -10.17,
    "主力净流入": -476749,
    "主力净流入占比": -0.47,
    "大单净流入": 1961404,
    "大单流入净占比": 1.92,
    "小单净流入": 10878726,
    "小单流入净占比": 10.63,
    "收盘价": 45.04,
    "日期": "2024-05-08",
    "涨跌幅": -2.09,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -2438153,
    "超大单流入净占比": -2.38
  },
  {
    "中单净流入": 240434,
    "中单流入净占比": 0.18,
    "主力净流入": 265406,
    "主力净流入占比": 0.19,
    "大单净流入": -766524,
    "大单流入净占比": -0.56,
    "小单净流入": -505840,
    "小单流入净占比": -0.37,
    "收盘价": 46.4,
    "日期": "2024-05-09",
    "涨跌幅": 3.02,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 1031930,
    "超大单流入净占比": 0.76
  },
  {
    "中单净流入": 10286691,
    "中单流入净占比": 9.08,
    "主力净流入": -10924658,
    "主力净流入占比": -9.65,
    "大单净流入": -7040840,
    "大单流入净占比": -6.22,
    "小单净流入": 637968,
    "小单流入净占比": 0.56,
    "收盘价": 45.93,
    "日期": "2024-05-10",
    "涨跌幅": -1.01,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -3883818,
    "超大单流入净占比": -3.43
  },
  {
    "中单净流入": 397784,
    "中单流入净占比": 0.28,
    "主力净流入": 6450948,
    "主力净流入占比": 4.61,
    "大单净流入": 6450948,
    "大单流入净占比": 4.61,
    "小单净流入": -6848732,
    "小单流入净占比": -4.9,
    "收盘价": 46.12,
    "日期": "2024-05-13",
    "涨跌幅": 0.41,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": 7150449,
    "中单流入净占比": 9.17,
    "主力净流入": 236189,
    "主力净流入占比": 0.3,
    "大单净流入": -567500,
    "大单流入净占比": -0.73,
    "小单净流入": -7386638,
    "小单流入净占比": -9.47,
    "收盘价": 45.75,
    "日期": "2024-05-14",
    "涨跌幅": -0.8,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 803689,
    "超大单流入净占比": 1.03
  },
  {
    "中单净流入": 4994371,
    "中单流入净占比": 5.22,
    "主力净流入": -403993,
    "主力净流入占比": -0.42,
    "大单净流入": -335132,
    "大单流入净占比": -0.35,
    "小单净流入": -4590377,
    "小单流入净占比": -4.8,
    "收盘价": 45.12,
    "日期": "2024-05-15",
    "涨跌幅": -1.38,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": -68861,
    "超大单流入净占比": -0.07
  },
  {
    "中单净流入": -5220302,
    "中单流入净占比": -5.82,
    "主力净流入": -6614761,
    "主力净流入占比": -7.37,
    "大单净流入": -6614761,
    "大单流入净占比": -7.37,
    "小单净流入": 11835064,
    "小单流入净占比": 13.18,
    "收盘价": 44.69,
    "日期": "2024-05-16",
    "涨跌幅": -0.95,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 0,
    "超大单流入净占比": 0
  },
  {
    "中单净流入": -13816886,
    "中单流入净占比": -1.4,
    "主力净流入": 83771335,
    "主力净流入占比": 8.5,
    "大单净流入": 5608878,
    "大单流入净占比": 0.57,
    "小单净流入": -69954442,
    "小单流入净占比": -7.1,
    "收盘价": 53.63,
    "日期": "2024-05-17",
    "涨跌幅": 20,
    "股票代码": "300776",
    "股票名称": "帝尔激光",
    "超大单净流入": 78162457,
    "超大单流入净占比": 7.93
  }
]

# 创建DataFrame
df = pd.DataFrame(data)
df['日期'] = pd.to_datetime(df['日期'])
df = df.sort_values('日期')

# 设置日期为索引
df.set_index('日期', inplace=True)

# 添加技术指标
df['RSI'] = ta.momentum.RSIIndicator(df['收盘价']).rsi()
df['MACD'] = ta.trend.MACD(df['收盘价']).macd()
df['MACD_signal'] = ta.trend.MACD(df['收盘价']).macd_signal()
df['MACD_diff'] = ta.trend.MACD(df['收盘价']).macd_diff()

# 选择特征和标签
features = df[[ '中单流入净占比', '主力净流入', '主力净流入占比', 
               '大单净流入', '大单流入净占比', '小单净流入', '小单流入净占比', 
               '超大单净流入', '超大单流入净占比', '收盘价',
               'RSI', 'MACD', 'MACD_signal', 'MACD_diff']]
labels = df['涨跌幅']

# 处理缺失值
features = features.fillna(0)
labels = labels.fillna(0)

# 归一化特征和标签数据
scaler = MinMaxScaler(feature_range=(0, 1))
scaled_features = scaler.fit_transform(features)
scaled_labels = scaler.fit_transform(labels.values.reshape(-1, 1))

# 构建训练数据集
def create_dataset(features, labels, time_step=1):
    dataX, dataY = [], []
    for i in range(len(features) - time_step):
        a = features[i:(i + time_step), :]
        dataX.append(a)
        dataY.append(labels[i + time_step, 0])
    return np.array(dataX), np.array(dataY)

time_step = 3  # 使用过去3天的数据来预测下一天的涨跌
X, y = create_dataset(scaled_features, scaled_labels, time_step)

# 划分训练集和测试集
train_size = int(len(X) * 0.8)
test_size = len(X) - train_size
X_train, X_test = X[0:train_size], X[train_size:len(X)]
y_train, y_test = y[0:train_size], y[train_size:len(y)]

def build_model(units=50, learning_rate=0.001, dropout_rate=0.2):
    model = Sequential()
    model.add(LSTM(units, return_sequences=True, input_shape=(time_step, X.shape[2])))
    model.add(LSTM(units, return_sequences=False))
    model.add(Dropout(dropout_rate))
    model.add(Dense(25))
    model.add(Dense(1))
    optimizer = Adam(learning_rate=learning_rate)
    model.compile(optimizer=optimizer, loss='mean_squared_error')
    return model

# 超参数设置
units = 50
learning_rate = 0.001
batch_size = 1
epochs = 20

# 构建模型
model = build_model(units, learning_rate)

# 使用早停法防止过拟合
early_stop = EarlyStopping(monitor='val_loss', patience=5, restore_best_weights=True)

# 训练模型
history = model.fit(X_train, y_train, validation_data=(X_test, y_test), 
                    batch_size=batch_size, epochs=epochs, callbacks=[early_stop])

# 预测
train_predict = model.predict(X_train)
test_predict = model.predict(X_test)

# 反归一化预测值
train_predict = scaler.inverse_transform(train_predict)
test_predict = scaler.inverse_transform(test_predict)
y_train = scaler.inverse_transform(y_train.reshape(-1, 1))
y_test = scaler.inverse_transform(y_test.reshape(-1, 1))

# 计算均方误差
train_score = math.sqrt(mean_squared_error(y_train, train_predict))
test_score = math.sqrt(mean_squared_error(y_test, test_predict))

print('Train Score: %.2f RMSE' % (train_score))
print('Test Score: %.2f RMSE' % (test_score))

# 预测下一天的收盘价
last_n_days = scaled_features[-time_step:]
next_day_prediction_scaled = model.predict(last_n_days.reshape(1, time_step, features.shape[1]))
next_day_prediction = scaler.inverse_transform(next_day_prediction_scaled)

# 获取最后一天的日期
last_date = df.index[-1]
next_date = last_date + pd.Timedelta(days=1)

# 生成分析文本
def generate_analysis(prediction, last_close_price, threshold=0.5):
    predicted_price = prediction[0][0]
    price_diff = predicted_price - last_close_price
    recommendation = ""
    
    if price_diff > threshold:
        recommendation = "买入"
    elif price_diff < -threshold:
        recommendation = "卖出"
    else:
        recommendation = "持有"
    
    analysis_text = f"预测日期: {next_date.date()}\n"
    analysis_text += f"预测收盘价: {predicted_price:.2f}\n"
    analysis_text += f"与前一日收盘价的差值: {price_diff:.2f}\n"
    analysis_text += f"建议: {recommendation}\n"
    analysis_text += f"分析依据:\n"
    analysis_text += "- 技术指标（RSI、MACD等）表明市场趋势。\n"
    analysis_text += "- 资金流向分析表明当前市场资金流动情况。\n"
    
    return analysis_text

last_close_price = df['收盘价'].iloc[-1]
analysis_text = generate_analysis(next_day_prediction, last_close_price)
print(analysis_text)

